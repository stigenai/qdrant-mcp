[supervisord]
nodaemon=true
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid

[program:qdrant]
command=/qdrant/qdrant
directory=/qdrant
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/qdrant.log
stderr_logfile=/var/log/supervisor/qdrant.err
environment=QDRANT__SERVICE__GRPC_PORT="6334",QDRANT__SERVICE__HTTP_PORT="6333"

[program:api-server]
command=python3 /app/server.py
directory=/app
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/api-server.log
stderr_logfile=/var/log/supervisor/api-server.err
environment=QDRANT_HOST="localhost",QDRANT_PORT="6333"

[program:mcp-server]
command=python3 /app/mcp_server.py
directory=/app
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/mcp-server.log
stderr_logfile=/var/log/supervisor/mcp-server.err
environment=QDRANT_HOST="localhost",QDRANT_PORT="6333",MCP_PORT="8001"